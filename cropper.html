<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>シンプルなトリミングアプリ</title>
    <link rel="icon" type="image/x-icon" href="https://raw.githubusercontent.com/fumifum1/main/main/jpg/ico.ico">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Zen+Dots&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="common.css">
    <link rel="stylesheet" href="cropper.css">
</head>
<body>

        <!-- Hamburger Menu -->
    <button class="hamburger-menu" id="hamburgerMenu" aria-label="メニューを開く">
        <span></span>
        <span></span>
        <span></span>
    </button>
    <nav class="nav-menu" id="globalNav">
        <ul>
                <li><a href="menu.html">HOME</a></li>
                <li><a href="transparency.html">Image背景透明化</a></li>
                <li><a href="fast_resizer.html">Imageサイズ変更</a></li>
                <li><a href="cropper.html">Imageトリミング</a></li>
                <hr>
                <li><a href="https://fumifum1.github.io/main/index.html">Creator</a></li>
        </ul>
    </nav>
    <div class="overlay"></div>
    
    <h1>CroppeR</h1>
    <p>画像を取り込み、好きな範囲を切り抜いてダウンロードできます。</p>

    <!-- View 1: Upload -->
    <div id="view-upload" class="view active">
        <div class="upload-area">
            <p>トリミングしたい画像をアップしてください。</p>
            <label for="image-upload" class="file-upload-label">
                ファイルを選択
            </label>
            <input type="file" id="image-upload" accept="image/*" class="visually-hidden">
        </div>
    </div>

    <!-- View 2: Crop -->
    <div id="view-crop" class="view">
        <div class="main-container">
            <div class="canvas-container">
                <canvas id="image-canvas"></canvas>
                <div id="crop-area">
                    <div id="resize-handle"></div>
                </div>
            </div>
        </div>
        <div class="controls">
            <div class="shape-select">
                <input type="radio" id="square-radio" name="shape" value="square" checked>
                <label for="square-radio">正方形</label>
                <input type="radio" id="circle-radio" name="shape" value="circle">
                <label for="circle-radio">正円</label>
            </div>
            <div class="button-group">
                <button id="back-to-upload-btn" class="secondary-btn arrow-btn">≪</button>
                <button id="crop-button" class="arrow-btn">≫</button>
            </div>
        </div>
    </div>

    <!-- View 3: Preview & Download -->
    <div id="view-preview" class="view">
        <div class="preview-container">
            <h2>Preview</h2>
            <div id="preview-image-container"></div>
            <div class="download-options">
                <label for="download-size">ダウンロードサイズ:</label>
                <div class="input-with-unit">
                    <input type="number" id="download-size" value="300" min="50">
                    <span>px</span>
                </div>
            </div>
            <div class="button-group">
                <button id="back-to-crop-btn" class="secondary-btn arrow-btn">≪</button>
                <div class="download-action-group">
                    <span>Download</span>
                    <button id="download-button" class="arrow-btn">▼</button>
                </div>
            </div>
        </div>
    </div>

    <script src="cropper.js"></script>
    <script src="common.js"></script>
    <footer>
        &copy; 2025 Synapse Creations. Sep.ShapeShifT_ver2.1.0
    </footer>
</body>
</html>
